export LANG=en_US.UTF-8

# oh my zsh settings
export ZSH="$HOME/.oh-my-zsh"
zstyle ':omz:update' mode reminder
zstyle ':omz:update' frequency 90

plugins=(zsh-autosuggestions fzf fzf-tab kubectl)

source $ZSH/oh-my-zsh.sh

# prompt
eval "$(starship init zsh)"

# z 
eval "$(zoxide init zsh)"

# custom configs
bindkey '^v' edit-command-line

# editor
export EDITOR=nvim

# alias
alias vim=nvim

r() {
  [ "${NNNLVL:-0}" -eq 0 ] || {
    echo "nnn is already running"
    return
  }
  export NNN_TMPFILE="${XDG_CONFIG_HOME:-$HOME/.config}/nnn/.lastd"
  command nnn -eEC "$@"

  [ ! -f "$NNN_TMPFILE" ] || {
    . "$NNN_TMPFILE"
    rm -f "$NNN_TMPFILE" > /dev/null
  }
}

vy() {
  TMP_FILE="/tmp/v-yaml.yaml"
  cat - > $TMP_FILE
  nvim $TMP_FILE
  rm $TMP_FILE
}

copy-git-branch-name() {
  git symbolic-ref --short HEAD | awk '{printf "%s", $0}' | pbcopy
}
